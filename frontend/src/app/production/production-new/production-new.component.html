<div *ngIf="!canInput">
  <h1>You must be logged in to add a production lot!</h1>
</div>
<form *ngIf="canInput && productionForm" [formGroup]="productionForm" (ngSubmit)='onSubmit()'>
  <div class='form-group'>
    <div class="form-group">
      <label for="quantity">Quantity</label>
      <input 
        formControlName='quantity'
        type="number" 
        id="quantity" 
        class="form-control">
    </div>
    <div *ngIf="notRunning" class="form-group">
      <label for="job">Job</label>
      <select
        formControlName='job'
        type="text" 
        id="job" 
        class="form-control">
        <option *ngFor = "let mach of fullMach">{{mach.current_job}}</option>
      </select>        
    </div>
    <div class="form-group">
      <label for="date">Date</label>
      <input 
        type="date" 
        id="date" 
        class="form-control"
        formControlName='date'>
    </div>
    <div *ngIf="!notRunning" class="form-group">
      <label for="machine">Machine</label>
      <select 
        formControlName='machine'
        id="machine" 
        class="form-control">
        <option *ngFor = "let machine of machines">{{machine}}</option>
      </select>
    </div>
    <div *ngIf="notRunning" class="form-group">
      <label for="machine">Machine</label>
      <select 
        formControlName='machine'
        id="machine" 
        class="form-control">
        <option *ngFor = "let mach of fullMach">{{mach.machine}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="shift">Shift</label>
      <select 
        formControlName='shift'
        id="shift" 
        class="form-control">
        <option *ngFor="let shift of shifts">{{shift}}</option>
      </select> 
    </div>
    <br><br>
    <button 
      class="btn btn-success" 
      type="submit"
      [disabled]="!productionForm.valid"
    >
    Add Production</button>
    <button 
      type='button' 
      class='btn btn-danger pull-right' 
      (click)='onCancel()'
    >
    Cancel</button>
  </div>
